{% extends 'base.html' %}
{% load static %}
{% block title %}Lista de Materias{% endblock %}
{% block content %}
<div class="container my-5">
  <h2 class="text-center mb-4">CURSOS OFERTADOS</h2>
  <div class="text-end mb-4">
    <a href="{% url 'materia:crear_materia' %}" class="btn btn-success">
      <i class="fas fa-plus"></i> Agregar Curso
    </a>
  </div>
  <div class="row">
    {% for materia in materias %}
    <div class="col-md-6 mb-4">
      <div class="card materia-card-horizontal">
        <div class="row g-0">
          <!-- Información -->
          <div class="col-8 p-3 d-flex flex-column justify-content-between">
            <div>
              <!-- Nombre con badge -->
              <span class="materia-badge">{{ materia.nombre }}</span>
              <p class="materia-docente">
                {% for docente in materia.docentes.all %}
                  {{ docente.nombre }} {{ docente.apellido }}{% if not forloop.last %}, {% endif %}
                {% endfor %}
              </p>
              <!-- Datos con badges -->
              <div class="materia-info-badges">
                <span class="badge badge-nivel">Nivel: {{ materia.nivel }}</span>
                <span class="badge badge-creditos">Créditos: {{ materia.numero_creditos }}</span>
                <span class="badge badge-horas">Horas/Semana: {{ materia.horas_semana }}</span>
                <span class="badge badge-jornada">Jornada: {{ materia.jornada }}</span>
              </div>
            </div>
            <!-- Íconos -->
            <div class="action-icons mt-3 text-end">
              <a href="{% url 'materia:actualizar_materia' materia.pk %}" class="btn-icon edit">
                <i class="fas fa-edit"></i>
              </a>
              <a href="{% url 'materia:eliminar_materia' materia.pk %}" class="btn-icon delete">
                <i class="fas fa-trash-alt"></i>
              </a>
            </div>
          </div>
          <!-- Imagen -->
          <div class="col-4 d-flex align-items-center justify-content-center">
            {% if materia.imagen %}
              <img src="{{ materia.imagen.url }}" alt="Imagen del curso" class="materia-image-horizontal">
            {% else %}
              <img src="{% static 'img/default-materia.jpg' %}" alt="Imagen por defecto" class="materia-image-horizontal">
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
